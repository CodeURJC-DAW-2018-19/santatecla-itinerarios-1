<mat-card>

  <mat-card-title>
    <mat-toolbar color="primary">
      <mat-toolbar-row>
        <h3>{{itinerary.title}}</h3>

        <span flex></span>
        <mat-form-field *ngIf="isAdmin">
          <mat-label>Unidades</mat-label>
          <mat-select (selectionChange)="updateItineraries($event.value)" [(ngModel)]="selectedUnit">
            <mat-option *ngFor="let unit of units" [value]="unit">
              {{unit.title}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="isAdmin">
          <mat-label>Itinerario</mat-label>
          <mat-select (selectionChange)="select($event.value)">
            <mat-option *ngFor="let itinerary of itineraries" [value]="itinerary">
              {{itinerary.title}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-icon-button (click)="deleteSubItinerary()" *ngIf="isAdmin">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-toolbar-row>
    </mat-toolbar>
  </mat-card-title>

  <mat-card-content>

    <mat-list role="list">
      <mat-list-item role="listitem" *ngFor="let item of items; index as i">
        {{unit.title}}
        <ng-container *ngIf="item.isItinerary; then thenBlock else elseBlock">
        </ng-container>
        <ng-template #thenBlock>{{item.title}}</ng-template>
        <ng-template #elseBlock>Vista {{i}}</ng-template>
      </mat-list-item>
    </mat-list>

  </mat-card-content>
</mat-card>
